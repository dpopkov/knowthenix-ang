<h1>{{ category.id == null ? 'Add' : 'Edit'}} Category</h1>

<div class="bg-warning p-5" *ngIf="message">{{ message }}</div>

<form #editCategoryForm="ngForm">
  <div class="form-group">
    <label for="name">Name</label>
    <input type="text" class="form-control" id="name" placeholder="category name"
            (change)="checkIfNameIsValid()"
            [(ngModel)]="formCategory.name" name="name" required #nameField="ngModel">
    <div *ngIf="nameField.invalid && nameField.touched" 
         class="alert alert-danger">Name is required</div>
    <div *ngIf="nameField.touched && !nameIsValid" 
         class="alert alert-danger">Name cannot be blank</div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <input type="text" class="form-control" id="description" placeholder="category description"
            [(ngModel)]="formCategory.description" name="description">
    <!-- <div class="alert alert-danger">Error message placeholder</div> -->
  </div>

  <button type="button" class="btn btn-primary" (click)="onSubmit()"
            [disabled]="editCategoryForm.invalid || !nameIsValid"
  >Save</button>
</form>
